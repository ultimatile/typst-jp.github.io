{"route":"/docs/reference/data-loading/xml/","title":"XML","description":"Documentation for the `xml` function.","part":null,"outline":[{"id":"summary","name":"概要","children":[]},{"id":"例","name":"例","children":[]},{"id":"parameters","name":"引数","children":[{"id":"parameters-source","name":"source","children":[]}]},{"id":"definitions","name":"定義","children":[{"id":"definitions-decode","name":"Decode XML","children":[{"id":"definitions-decode-data","name":"data","children":[]}]}]}],"body":{"kind":"func","content":{"path":[],"name":"xml","title":"XML","keywords":[],"oneliner":"XMLファイルから構造化データを読み込む。","element":false,"contextual":false,"deprecation":null,"details":"<p>XMLファイルから構造化データを読み込む。</p>\n<p>XMLファイルは辞書と文字列からなる配列にパースされます。\nXMLノードは要素または文字列になり得ます。\n要素は以下のキーを持つ辞書として表現されます。</p>\n<ul>\n<li><code>tag</code>: 要素の名称を表す文字列。</li>\n<li><code>attrs</code>: 要素の属性を表す文字列からなる辞書。</li>\n<li><code>children</code>: 要素の子ノードからなる配列。</li>\n</ul>\n<p>この例におけるXMLファイルは、ルート要素である<code>news</code>タグと複数の<code>article</code>タグを含んでいます。\nそれぞれのarticleは<code>title</code>、<code>author</code>、および<code>content</code>タグを持っています。\n<code>content</code>タグは1つ以上の段落を含んでおり、\nこれらは<code>p</code>タグとして表現されています。</p>\n<h2 id=\"例\">例</h2>\n<div class=\"previewed-code\"><pre><code><span class=\"typ-key\">#</span><span class=\"typ-key\">let</span> <span class=\"typ-func\">find-child</span><span class=\"typ-punct\">(</span>elem<span class=\"typ-punct\">,</span> tag<span class=\"typ-punct\">)</span> <span class=\"typ-op\">=</span> <span class=\"typ-punct\">{</span>\n  elem<span class=\"typ-punct\">.</span>children\n    <span class=\"typ-punct\">.</span><span class=\"typ-func\">find</span><span class=\"typ-punct\">(</span>e <span class=\"typ-op\">=&gt;</span> <span class=\"typ-str\">&quot;tag&quot;</span> <span class=\"typ-key\">in</span> e <span class=\"typ-key\">and</span> e<span class=\"typ-punct\">.</span>tag <span class=\"typ-op\">==</span> tag<span class=\"typ-punct\">)</span>\n<span class=\"typ-punct\">}</span>\n\n<span class=\"typ-key\">#</span><span class=\"typ-key\">let</span> <span class=\"typ-func\">article</span><span class=\"typ-punct\">(</span>elem<span class=\"typ-punct\">)</span> <span class=\"typ-op\">=</span> <span class=\"typ-punct\">{</span>\n  <span class=\"typ-key\">let</span> title <span class=\"typ-op\">=</span> <span class=\"typ-func\">find-child</span><span class=\"typ-punct\">(</span>elem<span class=\"typ-punct\">,</span> <span class=\"typ-str\">&quot;title&quot;</span><span class=\"typ-punct\">)</span>\n  <span class=\"typ-key\">let</span> author <span class=\"typ-op\">=</span> <span class=\"typ-func\">find-child</span><span class=\"typ-punct\">(</span>elem<span class=\"typ-punct\">,</span> <span class=\"typ-str\">&quot;author&quot;</span><span class=\"typ-punct\">)</span>\n  <span class=\"typ-key\">let</span> pars <span class=\"typ-op\">=</span> <span class=\"typ-func\">find-child</span><span class=\"typ-punct\">(</span>elem<span class=\"typ-punct\">,</span> <span class=\"typ-str\">&quot;content&quot;</span><span class=\"typ-punct\">)</span>\n\n  <span class=\"typ-punct\">[</span><span class=\"typ-heading\">= <span class=\"typ-pol\">#</span><span class=\"typ-pol\">title</span><span class=\"typ-punct\">.</span><span class=\"typ-pol\">children</span><span class=\"typ-punct\">.</span><span class=\"typ-func\">first</span><span class=\"typ-punct\">(</span><span class=\"typ-punct\">)</span></span><span class=\"typ-punct\">]</span>\n  <span class=\"typ-func\">text</span><span class=\"typ-punct\">(</span><span class=\"typ-num\">10pt</span><span class=\"typ-punct\">,</span> weight<span class=\"typ-punct\">:</span> <span class=\"typ-str\">&quot;medium&quot;</span><span class=\"typ-punct\">)</span><span class=\"typ-punct\">[</span>\n    Published by\n    <span class=\"typ-pol\">#</span><span class=\"typ-pol\">author</span><span class=\"typ-punct\">.</span><span class=\"typ-pol\">children</span><span class=\"typ-punct\">.</span><span class=\"typ-func\">first</span><span class=\"typ-punct\">(</span><span class=\"typ-punct\">)</span>\n  <span class=\"typ-punct\">]</span>\n\n  <span class=\"typ-key\">for</span> p <span class=\"typ-key\">in</span> pars<span class=\"typ-punct\">.</span>children <span class=\"typ-punct\">{</span>\n    <span class=\"typ-key\">if</span> <span class=\"typ-func\">type</span><span class=\"typ-punct\">(</span>p<span class=\"typ-punct\">)</span> <span class=\"typ-op\">==</span> dictionary <span class=\"typ-punct\">{</span>\n      <span class=\"typ-func\">parbreak</span><span class=\"typ-punct\">(</span><span class=\"typ-punct\">)</span>\n      p<span class=\"typ-punct\">.</span>children<span class=\"typ-punct\">.</span><span class=\"typ-func\">first</span><span class=\"typ-punct\">(</span><span class=\"typ-punct\">)</span>\n    <span class=\"typ-punct\">}</span>\n  <span class=\"typ-punct\">}</span>\n<span class=\"typ-punct\">}</span>\n\n<span class=\"typ-key\">#</span><span class=\"typ-key\">let</span> data <span class=\"typ-op\">=</span> <span class=\"typ-func\">xml</span><span class=\"typ-punct\">(</span><span class=\"typ-str\">&quot;example.xml&quot;</span><span class=\"typ-punct\">)</span>\n<span class=\"typ-key\">#</span><span class=\"typ-key\">for</span> elem <span class=\"typ-key\">in</span> data<span class=\"typ-punct\">.</span><span class=\"typ-func\">first</span><span class=\"typ-punct\">(</span><span class=\"typ-punct\">)</span><span class=\"typ-punct\">.</span>children <span class=\"typ-punct\">{</span>\n  <span class=\"typ-key\">if</span> <span class=\"typ-func\">type</span><span class=\"typ-punct\">(</span>elem<span class=\"typ-punct\">)</span> <span class=\"typ-op\">==</span> dictionary <span class=\"typ-punct\">{</span>\n    <span class=\"typ-func\">article</span><span class=\"typ-punct\">(</span>elem<span class=\"typ-punct\">)</span>\n  <span class=\"typ-punct\">}</span>\n<span class=\"typ-punct\">}</span>\n</code></pre><div class=\"preview\"><img src=\"/docs/assets/3cb7f4941d7061f93cb7357d15706f74.png\" alt=\"Preview\"></div></div>","example":null,"self":false,"params":[{"name":"source","details":"<p>XMLファイルの<a href=\"/docs/reference/syntax/#paths\">パス</a>または生のXMLバイト列。</p>","example":null,"types":["str","bytes"],"strings":[],"default":null,"positional":true,"named":false,"required":true,"variadic":false,"settable":false}],"returns":["any"],"scope":[{"path":["xml"],"name":"decode","title":"Decode XML","keywords":[],"oneliner":"XMLの文字列やバイト列から構造化データを読み込む。","element":false,"contextual":false,"deprecation":"`xml.decode`は非推奨です。代わりにバイト列を直接`xml`に渡してください。","details":"<p>XMLの文字列やバイト列から構造化データを読み込む。</p>","example":null,"self":false,"params":[{"name":"data","details":"<p>XMLデータ。</p>","example":null,"types":["str","bytes"],"strings":[],"default":null,"positional":true,"named":false,"required":true,"variadic":false,"settable":false}],"returns":["any"],"scope":[]}]}}}