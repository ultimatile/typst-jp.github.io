{"route":"/docs/reference/data-loading/json/","title":"JSON","description":"Documentation for the `json` function.","part":null,"outline":[{"id":"summary","name":"概要","children":[]},{"id":"例","name":"例","children":[]},{"id":"parameters","name":"引数","children":[{"id":"parameters-source","name":"source","children":[]}]},{"id":"definitions","name":"定義","children":[{"id":"definitions-decode","name":"Decode JSON","children":[{"id":"definitions-decode-data","name":"data","children":[]}]},{"id":"definitions-encode","name":"Encode JSON","children":[{"id":"definitions-encode-value","name":"value","children":[]},{"id":"definitions-encode-pretty","name":"pretty","children":[]}]}]}],"body":{"kind":"func","content":{"path":[],"name":"json","title":"JSON","keywords":[],"oneliner":"JSONファイルから構造化データを読み込む。","element":false,"contextual":false,"deprecation":null,"details":"<p>JSONファイルから構造化データを読み込む。</p>\n<p>読み込むファイルにはオブジェクトや配列などの有効なJSON値が含まれていなければなりません。\nJSONオブジェクトはTypstの辞書に変換され、\nJSON配列はTypstの配列に変換されます。\n文字列やブール値はTypstの対応する型に変換され、<code>null</code>は<code><span class=\"typ-key\">none</span></code>に、\n数値は整数値であれば整数型に、\nそうでなければ浮動小数点数型に変換されます。</p>\n<p>2<sup>63</sup>-1より大きな整数は浮動小数点数に変換されるため、\n近似値になる可能性があることに留意してください。</p>\n<p>この関数は、辞書、配列、\nあるいはJSONファイルの内容に応じてその他のJSONデータ型を返します。</p>\n<p>この例におけるJSONファイルは、\n<code>temperature</code>、<code>unit</code>、および<code>weather</code>というキーを持つオブジェクトを含んでいます。</p>\n<h2 id=\"例\">例</h2>\n<div class=\"previewed-code\"><pre><code><span class=\"typ-key\">#</span><span class=\"typ-key\">let</span> <span class=\"typ-func\">forecast</span><span class=\"typ-punct\">(</span>day<span class=\"typ-punct\">)</span> <span class=\"typ-op\">=</span> <span class=\"typ-func\">block</span><span class=\"typ-punct\">[</span>\n  <span class=\"typ-func\">#</span><span class=\"typ-func\">box</span><span class=\"typ-punct\">(</span><span class=\"typ-func\">square</span><span class=\"typ-punct\">(</span>\n    width<span class=\"typ-punct\">:</span> <span class=\"typ-num\">2cm</span><span class=\"typ-punct\">,</span>\n    inset<span class=\"typ-punct\">:</span> <span class=\"typ-num\">8pt</span><span class=\"typ-punct\">,</span>\n    fill<span class=\"typ-punct\">:</span> <span class=\"typ-key\">if</span> day<span class=\"typ-punct\">.</span>weather <span class=\"typ-op\">==</span> <span class=\"typ-str\">&quot;sunny&quot;</span> <span class=\"typ-punct\">{</span>\n      yellow\n    <span class=\"typ-punct\">}</span> <span class=\"typ-key\">else</span> <span class=\"typ-punct\">{</span>\n      aqua\n    <span class=\"typ-punct\">}</span><span class=\"typ-punct\">,</span>\n    <span class=\"typ-func\">align</span><span class=\"typ-punct\">(</span>\n      bottom <span class=\"typ-op\">+</span> right<span class=\"typ-punct\">,</span>\n      <span class=\"typ-func\">strong</span><span class=\"typ-punct\">(</span>day<span class=\"typ-punct\">.</span>weather<span class=\"typ-punct\">)</span><span class=\"typ-punct\">,</span>\n    <span class=\"typ-punct\">)</span><span class=\"typ-punct\">,</span>\n  <span class=\"typ-punct\">)</span><span class=\"typ-punct\">)</span>\n  <span class=\"typ-func\">#</span><span class=\"typ-func\">h</span><span class=\"typ-punct\">(</span><span class=\"typ-num\">6pt</span><span class=\"typ-punct\">)</span>\n  <span class=\"typ-key\">#</span><span class=\"typ-key\">set</span> <span class=\"typ-func\">text</span><span class=\"typ-punct\">(</span><span class=\"typ-num\">22pt</span><span class=\"typ-punct\">,</span> baseline<span class=\"typ-punct\">:</span> <span class=\"typ-op\">-</span><span class=\"typ-num\">8pt</span><span class=\"typ-punct\">)</span>\n  <span class=\"typ-pol\">#</span><span class=\"typ-pol\">day</span><span class=\"typ-punct\">.</span><span class=\"typ-pol\">temperature</span> °<span class=\"typ-pol\">#</span><span class=\"typ-pol\">day</span><span class=\"typ-punct\">.</span><span class=\"typ-pol\">unit</span>\n<span class=\"typ-punct\">]</span>\n\n<span class=\"typ-func\">#</span><span class=\"typ-func\">forecast</span><span class=\"typ-punct\">(</span><span class=\"typ-func\">json</span><span class=\"typ-punct\">(</span><span class=\"typ-str\">&quot;monday.json&quot;</span><span class=\"typ-punct\">)</span><span class=\"typ-punct\">)</span>\n<span class=\"typ-func\">#</span><span class=\"typ-func\">forecast</span><span class=\"typ-punct\">(</span><span class=\"typ-func\">json</span><span class=\"typ-punct\">(</span><span class=\"typ-str\">&quot;tuesday.json&quot;</span><span class=\"typ-punct\">)</span><span class=\"typ-punct\">)</span>\n</code></pre><div class=\"preview\"><img src=\"/docs/assets/f531864e1bdd9f39c36d5451a39f87b2.png\" alt=\"Preview\"></div></div>","example":null,"self":false,"params":[{"name":"source","details":"<p>JSONファイルの<a href=\"/docs/reference/syntax/#paths\">パス</a>、または生のJSONバイト列。</p>","example":null,"types":["str","bytes"],"strings":[],"default":null,"positional":true,"named":false,"required":true,"variadic":false,"settable":false}],"returns":["any"],"scope":[{"path":["json"],"name":"decode","title":"Decode JSON","keywords":[],"oneliner":"JSONの文字列やバイト列から構造化データを読み込む。","element":false,"contextual":false,"deprecation":"`json.decode`は非推奨です。代わりにバイト列を直接`json`に渡してください。","details":"<p>JSONの文字列やバイト列から構造化データを読み込む。</p>","example":null,"self":false,"params":[{"name":"data","details":"<p>JSONデータ。</p>","example":null,"types":["str","bytes"],"strings":[],"default":null,"positional":true,"named":false,"required":true,"variadic":false,"settable":false}],"returns":["any"],"scope":[]},{"path":["json"],"name":"encode","title":"Encode JSON","keywords":[],"oneliner":"構造化データをJSON文字列にエンコードする。","element":false,"contextual":false,"deprecation":null,"details":"<p>構造化データをJSON文字列にエンコードする。</p>","example":null,"self":false,"params":[{"name":"value","details":"<p>エンコード対象の値。</p>","example":null,"types":["any"],"strings":[],"default":null,"positional":true,"named":false,"required":true,"variadic":false,"settable":false},{"name":"pretty","details":"<p>JSONを改行およびインデント付きで整形表示するかどうか。</p>","example":null,"types":["bool"],"strings":[],"default":"<code><span class=\"typ-key\">true</span></code>","positional":false,"named":true,"required":false,"variadic":false,"settable":false}],"returns":["str"],"scope":[]}]}}}