{"route":"/docs/reference/layout/place/","title":"Place","description":"Documentation for the `place` function.","part":null,"outline":[{"id":"summary","name":"概要","children":[]},{"id":"例","name":"例","children":[]},{"id":"effect-on-other-elements","name":"他の要素の位置に対する影響","children":[]},{"id":"parameters","name":"引数","children":[{"id":"parameters-alignment","name":"alignment","children":[]},{"id":"parameters-scope","name":"scope","children":[]},{"id":"parameters-float","name":"float","children":[]},{"id":"parameters-clearance","name":"clearance","children":[]},{"id":"parameters-dx","name":"dx","children":[]},{"id":"parameters-dy","name":"dy","children":[]},{"id":"parameters-body","name":"body","children":[]}]},{"id":"definitions","name":"定義","children":[{"id":"definitions-flush","name":"Flush","children":[]}]}],"body":{"kind":"func","content":{"path":[],"name":"place","title":"Place","keywords":[],"oneliner":"親コンテナに対して相対的なコンテンツの配置。","element":true,"contextual":false,"deprecation":null,"details":"<p>親コンテナに対して相対的なコンテンツの配置。</p>\n<p>コンテンツはオーバーレイ（デフォルト）またはフロートのいずれかで配置できます。\nオーバーレイのコンテンツは、指定された<a href=\"/docs/reference/layout/place/#parameters-alignment\"><code>alignment</code></a>に従って親コンテナにあわせて配置され、これまでに追加された他のコンテンツの上に表示されます。\nフロートのコンテンツは、親コンテナの上部または下部に配置され、他のコンテンツを下または上にそれぞれずらします。\n両方の場合で、コンテンツの位置は<a href=\"/docs/reference/layout/place/#parameters-dx\"><code>dx</code></a>および<a href=\"/docs/reference/layout/place/#parameters-dy\"><code>dy</code></a>オフセットを用いてレイアウトに影響を与えることなく調整可能です。</p>\n<p><a href=\"/docs/reference/layout/block/\" title=\"`block`\"><code>block</code></a>、<a href=\"/docs/reference/layout/box/\" title=\"`box`\"><code>box</code></a>、<a href=\"/docs/reference/visualize/rect/\" title=\"`rect`\"><code>rect</code></a>などの任意のコンテナが親になることができます。\nトップレベルの<code>place</code>の呼び出しは現在のページのテキスト領域に直接コンテンツを配置します。\nこれはページ上の絶対位置指定に使用できます。\n<code>top + left</code> <a href=\"/docs/reference/layout/place/#parameters-alignment\"><code>alignment</code></a>と組み合わせると、<code>dx</code>および<code>dy</code>オフセットはテキスト領域の左上隅を基準として要素の左上隅の位置を設定します。\nマージンを含めたページ全体における絶対位置指定は、<a href=\"/docs/reference/layout/page/#parameters-foreground\" title=\"`page.foreground`\"><code>page.foreground</code></a>か<a href=\"/docs/reference/layout/page/#parameters-background\" title=\"`page.background`\"><code>page.background</code></a>中で<code>place</code>を使うと可能です。</p>\n<h2 id=\"例\">例</h2>\n<div class=\"previewed-code\"><pre><code><span class=\"typ-key\">#</span><span class=\"typ-key\">set</span> <span class=\"typ-func\">page</span><span class=\"typ-punct\">(</span>height<span class=\"typ-punct\">:</span> <span class=\"typ-num\">120pt</span><span class=\"typ-punct\">)</span>\nHello, world!\n\n<span class=\"typ-func\">#</span><span class=\"typ-func\">rect</span><span class=\"typ-punct\">(</span>\n  width<span class=\"typ-punct\">:</span> <span class=\"typ-num\">100%</span><span class=\"typ-punct\">,</span>\n  height<span class=\"typ-punct\">:</span> <span class=\"typ-num\">2cm</span><span class=\"typ-punct\">,</span>\n  <span class=\"typ-func\">place</span><span class=\"typ-punct\">(</span>horizon <span class=\"typ-op\">+</span> right<span class=\"typ-punct\">,</span> <span class=\"typ-func\">square</span><span class=\"typ-punct\">(</span><span class=\"typ-punct\">)</span><span class=\"typ-punct\">)</span><span class=\"typ-punct\">,</span>\n<span class=\"typ-punct\">)</span>\n\n<span class=\"typ-func\">#</span><span class=\"typ-func\">place</span><span class=\"typ-punct\">(</span>\n  top <span class=\"typ-op\">+</span> left<span class=\"typ-punct\">,</span>\n  dx<span class=\"typ-punct\">:</span> <span class=\"typ-op\">-</span><span class=\"typ-num\">5pt</span><span class=\"typ-punct\">,</span>\n  <span class=\"typ-func\">square</span><span class=\"typ-punct\">(</span>size<span class=\"typ-punct\">:</span> <span class=\"typ-num\">5pt</span><span class=\"typ-punct\">,</span> fill<span class=\"typ-punct\">:</span> red<span class=\"typ-punct\">)</span><span class=\"typ-punct\">,</span>\n<span class=\"typ-punct\">)</span>\n</code></pre><div class=\"preview\"><img src=\"/docs/assets/6f751edfbb0d9761c3a6c972a39b6b7e.png\" alt=\"Preview\"></div></div>\n<h2 id=\"effect-on-other-elements\">他の要素の位置に対する影響</h2>\n<p>要素のオーバーレイはコンテンツの流れの中にスペースを取りませんが、<code>place</code>の呼び出しは、流れの中にブロックレベルの不可視要素を挿入します。\nこれは現在の段落を中断することでレイアウトに影響を与える可能性があります。\nこれを避けるために、段落の途中で<code>place</code>を呼び出す場合には、それを<a href=\"/docs/reference/layout/box/\" title=\"`box`\"><code>box</code></a>でラップするとよいでしょう。\nこのとき、配置とオフセットは、この大きさを持たないボックスを基準にしたものになります。\n間隔に影響しないように、ワードジョイナーを使用してボックスを単語に結合してください。</p>\n<p>例えば、以下は直後の単語に注釈を付与する関数を定義しています。</p>\n<div class=\"previewed-code\"><pre><code><span class=\"typ-key\">#</span><span class=\"typ-key\">let</span> <span class=\"typ-func\">annotate</span><span class=\"typ-punct\">(</span><span class=\"typ-op\">..</span>args<span class=\"typ-punct\">)</span> <span class=\"typ-op\">=</span> <span class=\"typ-punct\">{</span>\n  <span class=\"typ-func\">box</span><span class=\"typ-punct\">(</span><span class=\"typ-func\">place</span><span class=\"typ-punct\">(</span><span class=\"typ-op\">..</span>args<span class=\"typ-punct\">)</span><span class=\"typ-punct\">)</span>\n  sym<span class=\"typ-punct\">.</span>wj\n  <span class=\"typ-func\">h</span><span class=\"typ-punct\">(</span><span class=\"typ-num\">0pt</span><span class=\"typ-punct\">,</span> weak<span class=\"typ-punct\">:</span> <span class=\"typ-key\">true</span><span class=\"typ-punct\">)</span>\n<span class=\"typ-punct\">}</span>\n\nA placed <span class=\"typ-func\">#</span><span class=\"typ-func\">annotate</span><span class=\"typ-punct\">(</span><span class=\"typ-func\">square</span><span class=\"typ-punct\">(</span><span class=\"typ-punct\">)</span><span class=\"typ-punct\">,</span> dy<span class=\"typ-punct\">:</span> <span class=\"typ-num\">2pt</span><span class=\"typ-punct\">)</span>\nsquare in my text.\n</code></pre><div class=\"preview\"><img src=\"/docs/assets/40826a3ec000a798ea7be101e1b645d6.png\" alt=\"Preview\"></div></div>\n<p>ゼロ幅の弱い空白は、関数呼び出しと次の単語との間の空白を削除する役割を果たします。</p>","example":null,"self":false,"params":[{"name":"alignment","details":"<p>コンテンツを配置する基準となる親コンテナ内の位置。</p>\n<ul>\n<li><code>float</code>が<code><span class=\"typ-key\">false</span></code>の場合、<code><span class=\"typ-key\">auto</span></code>以外の任意のalignmentを指定できます。</li>\n<li><code>float</code>が<code><span class=\"typ-key\">true</span></code>の場合、<code><span class=\"typ-key\">auto</span></code>、<code>top</code>あるいは<code>bottom</code>のいずれかを指定しなければなりません。</li>\n</ul>\n<p><code>float</code>が<code><span class=\"typ-key\">false</span></code>で、かつvertical alignmentが指定されていなければ、コンテンツは垂直方向の軸上の現在の位置に配置されます。</p>","example":null,"types":["auto","alignment"],"strings":[],"default":"<code>start</code>","positional":true,"named":false,"required":false,"variadic":false,"settable":true},{"name":"scope","details":"<p>何かを配置するときの基準となる包含スコープ。</p>\n<p>親スコープは主に図表に使用されるため、figure関数にはそれを反映した<a href=\"/docs/reference/model/figure/#parameters-scope\"><code>scope</code>パラメーター</a>が用意されています。\nしかしながら、段組を中断することは、より一般的な場合に有用であることもあります。\n典型的な例は2段組の文書で1段組のタイトル節を作成することでしょう。</p>\n<p>現在、親スコープでの配置は<code>float</code>が<code><span class=\"typ-key\">true</span></code>の場合のみサポートされています。 この挙動は将来変更される可能性があります。</p>","example":"<div class=\"previewed-code\"><pre><code><span class=\"typ-key\">#</span><span class=\"typ-key\">set</span> <span class=\"typ-func\">page</span><span class=\"typ-punct\">(</span>height<span class=\"typ-punct\">:</span> <span class=\"typ-num\">150pt</span><span class=\"typ-punct\">,</span> columns<span class=\"typ-punct\">:</span> <span class=\"typ-num\">2</span><span class=\"typ-punct\">)</span>\n<span class=\"typ-func\">#</span><span class=\"typ-func\">place</span><span class=\"typ-punct\">(</span>\n  top <span class=\"typ-op\">+</span> center<span class=\"typ-punct\">,</span>\n  scope<span class=\"typ-punct\">:</span> <span class=\"typ-str\">&quot;parent&quot;</span><span class=\"typ-punct\">,</span>\n  float<span class=\"typ-punct\">:</span> <span class=\"typ-key\">true</span><span class=\"typ-punct\">,</span>\n  <span class=\"typ-func\">rect</span><span class=\"typ-punct\">(</span>width<span class=\"typ-punct\">:</span> <span class=\"typ-num\">80%</span><span class=\"typ-punct\">,</span> fill<span class=\"typ-punct\">:</span> aqua<span class=\"typ-punct\">)</span><span class=\"typ-punct\">,</span>\n<span class=\"typ-punct\">)</span>\n\n<span class=\"typ-func\">#</span><span class=\"typ-func\">lorem</span><span class=\"typ-punct\">(</span><span class=\"typ-num\">25</span><span class=\"typ-punct\">)</span>\n</code></pre><div class=\"preview\"><img src=\"/docs/assets/f718445c168dda0dcdf558eeec653317.png\" alt=\"Preview\"></div></div>","types":["str"],"strings":[{"string":"column","details":"<p>現在の列に配置する。</p>"},{"string":"parent","details":"<p>親要素に対して相対的な位置に配置され、コンテンツが全ての列にまたがって表示されます。</p>"}],"default":"<code><span class=\"typ-str\">&quot;column&quot;</span></code>","positional":false,"named":true,"required":false,"variadic":false,"settable":true},{"name":"float","details":"<p>要素をフロートレイアウトで配置するかどうか。</p>\n<p>フロートの要素は流れの中にあるコンテンツをずらして親コンテナの上部または下部に位置取ります。</p>\n<p>それらは常に互いのフロー内での順序を保ち、後続の<a href=\"/docs/reference/layout/place/#definitions-flush\" title=\"`place.flush`\"><code>place.flush</code></a>要素に続くコンテンツより前に配置されます。</p>","example":"<div class=\"previewed-code\"><pre><code><span class=\"typ-key\">#</span><span class=\"typ-key\">set</span> <span class=\"typ-func\">page</span><span class=\"typ-punct\">(</span>height<span class=\"typ-punct\">:</span> <span class=\"typ-num\">150pt</span><span class=\"typ-punct\">)</span>\n<span class=\"typ-key\">#</span><span class=\"typ-key\">let</span> <span class=\"typ-func\">note</span><span class=\"typ-punct\">(</span>where<span class=\"typ-punct\">,</span> body<span class=\"typ-punct\">)</span> <span class=\"typ-op\">=</span> <span class=\"typ-func\">place</span><span class=\"typ-punct\">(</span>\n  center <span class=\"typ-op\">+</span> where<span class=\"typ-punct\">,</span>\n  float<span class=\"typ-punct\">:</span> <span class=\"typ-key\">true</span><span class=\"typ-punct\">,</span>\n  clearance<span class=\"typ-punct\">:</span> <span class=\"typ-num\">6pt</span><span class=\"typ-punct\">,</span>\n  <span class=\"typ-func\">rect</span><span class=\"typ-punct\">(</span>body<span class=\"typ-punct\">)</span><span class=\"typ-punct\">,</span>\n<span class=\"typ-punct\">)</span>\n\n<span class=\"typ-func\">#</span><span class=\"typ-func\">lorem</span><span class=\"typ-punct\">(</span><span class=\"typ-num\">10</span><span class=\"typ-punct\">)</span>\n<span class=\"typ-func\">#</span><span class=\"typ-func\">note</span><span class=\"typ-punct\">(</span>bottom<span class=\"typ-punct\">)</span><span class=\"typ-punct\">[</span>Bottom 1<span class=\"typ-punct\">]</span>\n<span class=\"typ-func\">#</span><span class=\"typ-func\">note</span><span class=\"typ-punct\">(</span>bottom<span class=\"typ-punct\">)</span><span class=\"typ-punct\">[</span>Bottom 2<span class=\"typ-punct\">]</span>\n<span class=\"typ-func\">#</span><span class=\"typ-func\">lorem</span><span class=\"typ-punct\">(</span><span class=\"typ-num\">40</span><span class=\"typ-punct\">)</span>\n<span class=\"typ-func\">#</span><span class=\"typ-func\">note</span><span class=\"typ-punct\">(</span>top<span class=\"typ-punct\">)</span><span class=\"typ-punct\">[</span>Top<span class=\"typ-punct\">]</span>\n<span class=\"typ-func\">#</span><span class=\"typ-func\">lorem</span><span class=\"typ-punct\">(</span><span class=\"typ-num\">10</span><span class=\"typ-punct\">)</span>\n</code></pre><div class=\"preview\"><img src=\"/docs/assets/b79489e3dba54a5087e52813387db424.png\" alt=\"Preview\"></div></div>","types":["bool"],"strings":[],"default":"<code><span class=\"typ-key\">false</span></code>","positional":false,"named":true,"required":false,"variadic":false,"settable":true},{"name":"clearance","details":"<p>フロートレイアウトでの配置された要素と他の要素との間隔。</p>\n<p><code>float</code>が<code><span class=\"typ-key\">false</span></code>の場合は影響がありません。</p>","example":null,"types":["length"],"strings":[],"default":"<code><span class=\"typ-num\">1.5em</span></code>","positional":false,"named":true,"required":false,"variadic":false,"settable":true},{"name":"dx","details":"<p>配置したコンテンツの水平方向の変位。</p>","example":"<div class=\"previewed-code\"><pre><code><span class=\"typ-key\">#</span><span class=\"typ-key\">set</span> <span class=\"typ-func\">page</span><span class=\"typ-punct\">(</span>height<span class=\"typ-punct\">:</span> <span class=\"typ-num\">100pt</span><span class=\"typ-punct\">)</span>\n<span class=\"typ-key\">#</span><span class=\"typ-key\">for</span> i <span class=\"typ-key\">in</span> <span class=\"typ-func\">range</span><span class=\"typ-punct\">(</span><span class=\"typ-num\">16</span><span class=\"typ-punct\">)</span> <span class=\"typ-punct\">{</span>\n  <span class=\"typ-key\">let</span> amount <span class=\"typ-op\">=</span> i <span class=\"typ-op\">*</span> <span class=\"typ-num\">4pt</span>\n  <span class=\"typ-func\">place</span><span class=\"typ-punct\">(</span>center<span class=\"typ-punct\">,</span> dx<span class=\"typ-punct\">:</span> amount <span class=\"typ-op\">-</span> <span class=\"typ-num\">32pt</span><span class=\"typ-punct\">,</span> dy<span class=\"typ-punct\">:</span> amount<span class=\"typ-punct\">)</span><span class=\"typ-punct\">[</span>A<span class=\"typ-punct\">]</span>\n<span class=\"typ-punct\">}</span>\n</code></pre><div class=\"preview\"><img src=\"/docs/assets/900a86ccdad2c8f732b5d603c1366069.png\" alt=\"Preview\"></div></div>\n<p>これは流れの中のコンテンツのレイアウトには影響しません。\n言い換えると、配置されたコンテンツは<a href=\"/docs/reference/layout/move/\" title=\"`move`\"><code>move</code></a>要素にラップされたかのように扱われます。</p>","types":["relative"],"strings":[],"default":"<code><span class=\"typ-num\">0%</span> <span class=\"typ-op\">+</span> <span class=\"typ-num\">0pt</span></code>","positional":false,"named":true,"required":false,"variadic":false,"settable":true},{"name":"dy","details":"<p>配置したコンテンツの垂直方向の変位。</p>\n<p>これは流れの中のコンテンツのレイアウトには影響しません。\n言い換えると、配置されたコンテンツは<a href=\"/docs/reference/layout/move/\" title=\"`move`\"><code>move</code></a>要素にラップされたかのように扱われます。</p>","example":null,"types":["relative"],"strings":[],"default":"<code><span class=\"typ-num\">0%</span> <span class=\"typ-op\">+</span> <span class=\"typ-num\">0pt</span></code>","positional":false,"named":true,"required":false,"variadic":false,"settable":true},{"name":"body","details":"<p>配置するコンテンツ。</p>","example":null,"types":["content"],"strings":[],"default":null,"positional":true,"named":false,"required":true,"variadic":false,"settable":false}],"returns":["content"],"scope":[{"path":["place"],"name":"flush","title":"Flush","keywords":[],"oneliner":"コンテンツの続行前に保留中のフロート要素を配置するようレイアウトアルゴリズムに指示。","element":true,"contextual":false,"deprecation":null,"details":"<p>コンテンツの続行前に保留中のフロート要素を配置するようレイアウトアルゴリズムに指示。</p>\n<p>これは、次のセクションにフロートの図表が流れ込むのを防ぐのに便利です。</p>","example":"<div class=\"previewed-code\"><pre><code><span class=\"typ-func\">#</span><span class=\"typ-func\">lorem</span><span class=\"typ-punct\">(</span><span class=\"typ-num\">15</span><span class=\"typ-punct\">)</span>\n\n<span class=\"typ-func\">#</span><span class=\"typ-func\">figure</span><span class=\"typ-punct\">(</span>\n  <span class=\"typ-func\">rect</span><span class=\"typ-punct\">(</span>width<span class=\"typ-punct\">:</span> <span class=\"typ-num\">100%</span><span class=\"typ-punct\">,</span> height<span class=\"typ-punct\">:</span> <span class=\"typ-num\">50pt</span><span class=\"typ-punct\">)</span><span class=\"typ-punct\">,</span>\n  placement<span class=\"typ-punct\">:</span> <span class=\"typ-key\">auto</span><span class=\"typ-punct\">,</span>\n  caption<span class=\"typ-punct\">:</span> <span class=\"typ-punct\">[</span>A rectangle<span class=\"typ-punct\">]</span><span class=\"typ-punct\">,</span>\n<span class=\"typ-punct\">)</span>\n\n<span class=\"typ-pol\">#</span><span class=\"typ-pol\">place</span><span class=\"typ-punct\">.</span><span class=\"typ-func\">flush</span><span class=\"typ-punct\">(</span><span class=\"typ-punct\">)</span>\n\nThis text appears after the figure.\n</code></pre><div class=\"preview\"><img src=\"/docs/assets/f2aa79bdf50898cb675e77738d00ac35.png\" alt=\"Preview\"></div></div>","self":false,"params":[],"returns":["content"],"scope":[]}]}}}