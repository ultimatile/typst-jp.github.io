{"route":"/docs/reference/text/raw/","title":"Raw Text / Code","description":"Documentation for the `raw` function.","part":null,"outline":[{"id":"summary","name":"概要","children":[]},{"id":"例","name":"例","children":[]},{"id":"構文","name":"構文","children":[]},{"id":"parameters","name":"引数","children":[{"id":"parameters-text","name":"text","children":[]},{"id":"parameters-block","name":"block","children":[]},{"id":"parameters-lang","name":"lang","children":[]},{"id":"parameters-align","name":"align","children":[]},{"id":"parameters-syntaxes","name":"syntaxes","children":[]},{"id":"parameters-theme","name":"theme","children":[]},{"id":"parameters-tab-size","name":"tab-size","children":[]}]},{"id":"definitions","name":"定義","children":[{"id":"definitions-line","name":"Raw Text / Code Line","children":[{"id":"definitions-line-number","name":"number","children":[]},{"id":"definitions-line-count","name":"count","children":[]},{"id":"definitions-line-text","name":"text","children":[]},{"id":"definitions-line-body","name":"body","children":[]}]}]}],"body":{"kind":"func","content":{"path":[],"name":"raw","title":"Raw Text / Code","keywords":[],"oneliner":"オプションでシンタックスハイライトを持つ生テキスト。","element":true,"contextual":false,"deprecation":null,"details":"<p>オプションでシンタックスハイライトを持つ生テキスト。</p>\n<p>テキストをそのまま等幅フォントで表示します。\nこれは通常、計算機のコードをドキュメント内に埋め込むために使います。</p>\n<h2 id=\"例\">例</h2>\n<div class=\"previewed-code\"><pre><code>Adding <span class=\"typ-raw\">`rbx`</span> to <span class=\"typ-raw\">`rcx`</span> gives\nthe desired result.\n\nWhat is <span class=\"typ-raw\">```rust fn main()```</span> in Rust\nwould be <span class=\"typ-raw\">```c int main()```</span> in C.\n\n<span class=\"typ-raw\">```rust\nfn main() {\n    println!(&quot;Hello World!&quot;);\n}\n```</span>\n\nThis has <span class=\"typ-raw\">``` `backticks` ```</span> in it\n(but the spaces are trimmed). And\n<span class=\"typ-raw\">``` here```</span> the leading space is\nalso trimmed.\n</code></pre><div class=\"preview\"><img src=\"/docs/assets/1c6e6aa444c644eee774123542b7a4f6.png\" alt=\"Preview\"></div></div>\n<p>また、プログラミング的に文字列から<a href=\"/docs/reference/text/raw/\" title=\"`raw`\"><code>raw</code></a>要素を作成できます（オプションの<a href=\"/docs/reference/text/raw/#parameters-lang\"><code>lang</code></a>引数を用いて言語タグを提供できます）。</p>\n<div class=\"previewed-code\"><pre><code><span class=\"typ-func\">#</span><span class=\"typ-func\">raw</span><span class=\"typ-punct\">(</span><span class=\"typ-str\">&quot;fn &quot;</span> <span class=\"typ-op\">+</span> <span class=\"typ-str\">&quot;main() {}&quot;</span><span class=\"typ-punct\">,</span> lang<span class=\"typ-punct\">:</span> <span class=\"typ-str\">&quot;rust&quot;</span><span class=\"typ-punct\">)</span>\n</code></pre><div class=\"preview\"><img src=\"/docs/assets/30d00188c2b14f13cf697cc8c1fb8f3d.png\" alt=\"Preview\"></div></div>\n<h2 id=\"構文\">構文</h2>\n<p>この関数には専用の構文もあります。\nテキストを1つまたは3つ以上のバッククォート（<code>`</code>）で囲むと生テキストにできます。\n2つのバッククォートは空の生テキストを作成します。\nこれはマークアップ中でもコード中でも動作します。</p>\n<p>3つ以上のバッククォートを使用する場合、シンタックスハイライトのために開きバッククォートの直後に言語タグを追加で指定することができます。\nrawブロック内部では、（もし言語タグが利用可能なら、それ以外の）全てがそのままレンダリングされます。特に、エスケープシーケンスはありません。</p>\n<p>言語タグは、3つ以上のバッククォートがある場合にのみ使用できる、開きバッククォートの直後に付ける識別子です。\n識別子のようなものからテキストが始まるものの、シンタックスハイライトが不要な場合、単一の空白（トリムされます）からテキストを始めるか、単一のバッククォート構文を使用してください。\nバッククォートでテキストが始まるか終わるかしなければならない場合は、その前か後に空白を置いてください（トリムされます）。</p>","example":null,"self":false,"params":[{"name":"text","details":"<p>生テキスト。</p>\n<p>自動化のために、rawブロックを使ってカスタム構文をクリエイティブに作成することもできます。</p>","example":"<div class=\"previewed-code\"><pre><code><span class=\"typ-comment\">// Parse numbers in raw blocks with the</span>\n<span class=\"typ-comment\">// `mydsl` tag and sum them up.</span>\n<span class=\"typ-key\">#</span><span class=\"typ-key\">show</span> raw<span class=\"typ-punct\">.</span><span class=\"typ-func\">where</span><span class=\"typ-punct\">(</span>lang<span class=\"typ-punct\">:</span> <span class=\"typ-str\">&quot;mydsl&quot;</span><span class=\"typ-punct\">)</span><span class=\"typ-punct\">:</span> it <span class=\"typ-op\">=&gt;</span> <span class=\"typ-punct\">{</span>\n  <span class=\"typ-key\">let</span> sum <span class=\"typ-op\">=</span> <span class=\"typ-num\">0</span>\n  <span class=\"typ-key\">for</span> part <span class=\"typ-key\">in</span> it<span class=\"typ-punct\">.</span>text<span class=\"typ-punct\">.</span><span class=\"typ-func\">split</span><span class=\"typ-punct\">(</span><span class=\"typ-str\">&quot;+&quot;</span><span class=\"typ-punct\">)</span> <span class=\"typ-punct\">{</span>\n    sum <span class=\"typ-op\">+=</span> <span class=\"typ-func\">int</span><span class=\"typ-punct\">(</span>part<span class=\"typ-punct\">.</span><span class=\"typ-func\">trim</span><span class=\"typ-punct\">(</span><span class=\"typ-punct\">)</span><span class=\"typ-punct\">)</span>\n  <span class=\"typ-punct\">}</span>\n  sum\n<span class=\"typ-punct\">}</span>\n\n<span class=\"typ-raw\">```mydsl\n1 + 2 + 3 + 4 + 5\n```</span>\n</code></pre><div class=\"preview\"><img src=\"/docs/assets/e95a5eae34283fc132d0b8949399b41d.png\" alt=\"Preview\"></div></div>","types":["str"],"strings":[],"default":null,"positional":true,"named":false,"required":true,"variadic":false,"settable":false},{"name":"block","details":"<p>生テキストを独立したブロックとして表示するかどうか。</p>\n<p>マークアップモードでは、バッククォート1つを使うとこれは<code><span class=\"typ-key\">false</span></code>になります。\nバッククォート3つ使うと、囲まれたコンテンツが1つ以上の改行を含む場合は<code><span class=\"typ-key\">true</span></code>になります。</p>","example":"<div class=\"previewed-code\"><pre><code><span class=\"typ-comment\">// Display inline code in a small box</span>\n<span class=\"typ-comment\">// that retains the correct baseline.</span>\n<span class=\"typ-key\">#</span><span class=\"typ-key\">show</span> raw<span class=\"typ-punct\">.</span><span class=\"typ-func\">where</span><span class=\"typ-punct\">(</span>block<span class=\"typ-punct\">:</span> <span class=\"typ-key\">false</span><span class=\"typ-punct\">)</span><span class=\"typ-punct\">:</span> box<span class=\"typ-punct\">.</span><span class=\"typ-func\">with</span><span class=\"typ-punct\">(</span>\n  fill<span class=\"typ-punct\">:</span> <span class=\"typ-func\">luma</span><span class=\"typ-punct\">(</span><span class=\"typ-num\">240</span><span class=\"typ-punct\">)</span><span class=\"typ-punct\">,</span>\n  inset<span class=\"typ-punct\">:</span> <span class=\"typ-punct\">(</span>x<span class=\"typ-punct\">:</span> <span class=\"typ-num\">3pt</span><span class=\"typ-punct\">,</span> y<span class=\"typ-punct\">:</span> <span class=\"typ-num\">0pt</span><span class=\"typ-punct\">)</span><span class=\"typ-punct\">,</span>\n  outset<span class=\"typ-punct\">:</span> <span class=\"typ-punct\">(</span>y<span class=\"typ-punct\">:</span> <span class=\"typ-num\">3pt</span><span class=\"typ-punct\">)</span><span class=\"typ-punct\">,</span>\n  radius<span class=\"typ-punct\">:</span> <span class=\"typ-num\">2pt</span><span class=\"typ-punct\">,</span>\n<span class=\"typ-punct\">)</span>\n\n<span class=\"typ-comment\">// Display block code in a larger block</span>\n<span class=\"typ-comment\">// with more padding.</span>\n<span class=\"typ-key\">#</span><span class=\"typ-key\">show</span> raw<span class=\"typ-punct\">.</span><span class=\"typ-func\">where</span><span class=\"typ-punct\">(</span>block<span class=\"typ-punct\">:</span> <span class=\"typ-key\">true</span><span class=\"typ-punct\">)</span><span class=\"typ-punct\">:</span> block<span class=\"typ-punct\">.</span><span class=\"typ-func\">with</span><span class=\"typ-punct\">(</span>\n  fill<span class=\"typ-punct\">:</span> <span class=\"typ-func\">luma</span><span class=\"typ-punct\">(</span><span class=\"typ-num\">240</span><span class=\"typ-punct\">)</span><span class=\"typ-punct\">,</span>\n  inset<span class=\"typ-punct\">:</span> <span class=\"typ-num\">10pt</span><span class=\"typ-punct\">,</span>\n  radius<span class=\"typ-punct\">:</span> <span class=\"typ-num\">4pt</span><span class=\"typ-punct\">,</span>\n<span class=\"typ-punct\">)</span>\n\nWith <span class=\"typ-raw\">`rg`</span>, you can search through your files quickly.\nThis example searches the current directory recursively\nfor the text <span class=\"typ-raw\">`Hello World`</span>:\n\n<span class=\"typ-raw\">```bash\nrg &quot;Hello World&quot;\n```</span>\n</code></pre><div class=\"preview\"><img src=\"/docs/assets/3e05c29a6af60a7e77667a5640e9ccc3.png\" alt=\"Preview\"></div></div>","types":["bool"],"strings":[],"default":"<code><span class=\"typ-key\">false</span></code>","positional":false,"named":true,"required":false,"variadic":false,"settable":true},{"name":"lang","details":"<p>シンタックスハイライトを行う言語。</p>\n<p>Markdownで用いられている一般的な言語以外では、<a href=\"/docs/reference/syntax/#markup\">Typst markup</a>の<code><span class=\"typ-str\">&quot;typ&quot;</span></code>、<a href=\"/docs/reference/syntax/#code\">Typst code</a>の<code><span class=\"typ-str\">&quot;typc&quot;</span></code>、<a href=\"/docs/reference/syntax/#math\">Typst math</a>の<code><span class=\"typ-str\">&quot;typm&quot;</span></code>のタグがそれぞれサポートされています。</p>","example":"<div class=\"previewed-code\"><pre><code><span class=\"typ-raw\">```typ\nThis is *Typst!*\n```</span>\n\nThis is <span class=\"typ-raw\">```typ also *Typst*```</span>, but inline!\n</code></pre><div class=\"preview\"><img src=\"/docs/assets/6e35373cc945b3d9ac522ef64138479c.png\" alt=\"Preview\"></div></div>","types":["none","str"],"strings":[],"default":"<code><span class=\"typ-key\">none</span></code>","positional":false,"named":true,"required":false,"variadic":false,"settable":true},{"name":"align","details":"<p>rawブロック中の各行が持つべき水平方向の配置。\nこのオプションはrawブロックではない（<code>block: false</code>が指定されるか、マークアップモードで1つのバッククォートが使用された）場合は無視されます。</p>\n<p>これはデフォルトでは<code>start</code>で、現在のコンテキストの配置によらず、生テキストがブロック内部の書き始めの位置揃えになることを意味します（例えば、内部テキストを中央揃えにせずにrawブロックを中央揃えにできます）。</p>","example":"<div class=\"previewed-code\"><pre><code><span class=\"typ-key\">#</span><span class=\"typ-key\">set</span> <span class=\"typ-func\">raw</span><span class=\"typ-punct\">(</span>align<span class=\"typ-punct\">:</span> center<span class=\"typ-punct\">)</span>\n\n<span class=\"typ-raw\">```typc\nlet f(x) = x\ncode = &quot;centered&quot;\n```</span>\n</code></pre><div class=\"preview\"><img src=\"/docs/assets/42863ad475a373b308500053afc9afc3.png\" alt=\"Preview\"></div></div>","types":["alignment"],"strings":[],"default":"<code>start</code>","positional":false,"named":true,"required":false,"variadic":false,"settable":true},{"name":"syntaxes","details":"<p>追加で読み込む構文定義。\n構文定義は<a href=\"https://www.sublimetext.com/docs/syntax.html\"><code>sublime-syntax</code>ファイル形式</a>でなければなりません。</p>\n<p>以下の値のいずれかを渡すことができます。</p>\n<ul>\n<li>与えられたパスから構文ファイルを読み込みためのパス文字列。\nパスに関する詳細は<a href=\"/docs/reference/syntax/#paths\">パスのセクション</a>を参照してください。</li>\n<li>構文をデコードするための生バイト列。</li>\n<li>各アイテムが上記のいずれかである配列。</li>\n</ul>","example":"<div class=\"previewed-code\"><pre><code><span class=\"typ-key\">#</span><span class=\"typ-key\">set</span> <span class=\"typ-func\">raw</span><span class=\"typ-punct\">(</span>syntaxes<span class=\"typ-punct\">:</span> <span class=\"typ-str\">&quot;SExpressions.sublime-syntax&quot;</span><span class=\"typ-punct\">)</span>\n\n<span class=\"typ-raw\">```sexp\n(defun factorial (x)\n  (if (zerop x)\n    ; with a comment\n    1\n    (* x (factorial (- x 1)))))\n```</span>\n</code></pre><div class=\"preview\"><img src=\"/docs/assets/7f5c04b4a7636eec32f8b54d18867f8a.png\" alt=\"Preview\"></div></div>","types":["str","bytes","array"],"strings":[],"default":"<code><span class=\"typ-punct\">(</span><span class=\"typ-punct\">)</span></code>","positional":false,"named":true,"required":false,"variadic":false,"settable":true},{"name":"theme","details":"<p>シンタックスハイライトに用いるテーマ。\nテーマは<a href=\"https://www.sublimetext.com/docs/color_schemes_tmtheme.html\"><code>tmTheme</code>ファイル形式</a>でなければなりません。</p>\n<p>以下の値のいずれかを渡すことができます。</p>\n<ul>\n<li><code><span class=\"typ-key\">none</span></code>: シンタックスハイライトを無効化します。</li>\n<li><code><span class=\"typ-key\">auto</span></code>: Typstのデフォルトテーマでハイライトします。</li>\n<li>与えられたパスからテーマファイルを読み込みためのパス文字列。\nパスに関する詳細は<a href=\"/docs/reference/syntax/#paths\">パスのセクション</a>を参照してください。</li>\n<li>テーマをデコードするための生バイト列。</li>\n</ul>\n<p>テーマの適用はハイライトされたテキストの色にのみ影響を与えます。テーマの前景および背景プロパティは無視され、生テキストの色の制御は残ります。\n<a href=\"/docs/reference/text/text/\" title=\"`text`\"><code>text</code></a>関数を用いて前景色を、<a href=\"/docs/reference/layout/block/#parameters-fill\">ブロックの塗り潰し</a>を用いて背景色を、それぞれ手動で設定できます。\n<a href=\"/docs/reference/data-loading/xml/\" title=\"`xml`\"><code>xml</code></a>関数でもこれらのプロパティをテーマから抽出できます。</p>","example":"<div class=\"previewed-code\"><pre><code><span class=\"typ-key\">#</span><span class=\"typ-key\">set</span> <span class=\"typ-func\">raw</span><span class=\"typ-punct\">(</span>theme<span class=\"typ-punct\">:</span> <span class=\"typ-str\">&quot;halcyon.tmTheme&quot;</span><span class=\"typ-punct\">)</span>\n<span class=\"typ-key\">#</span><span class=\"typ-key\">show</span> <span class=\"typ-func\">raw</span><span class=\"typ-punct\">:</span> it <span class=\"typ-op\">=&gt;</span> <span class=\"typ-func\">block</span><span class=\"typ-punct\">(</span>\n  fill<span class=\"typ-punct\">:</span> <span class=\"typ-func\">rgb</span><span class=\"typ-punct\">(</span><span class=\"typ-str\">&quot;#1d2433&quot;</span><span class=\"typ-punct\">)</span><span class=\"typ-punct\">,</span>\n  inset<span class=\"typ-punct\">:</span> <span class=\"typ-num\">8pt</span><span class=\"typ-punct\">,</span>\n  radius<span class=\"typ-punct\">:</span> <span class=\"typ-num\">5pt</span><span class=\"typ-punct\">,</span>\n  <span class=\"typ-func\">text</span><span class=\"typ-punct\">(</span>fill<span class=\"typ-punct\">:</span> <span class=\"typ-func\">rgb</span><span class=\"typ-punct\">(</span><span class=\"typ-str\">&quot;#a2aabc&quot;</span><span class=\"typ-punct\">)</span><span class=\"typ-punct\">,</span> it<span class=\"typ-punct\">)</span>\n<span class=\"typ-punct\">)</span>\n\n<span class=\"typ-raw\">```typ\n= Chapter 1\n#let hi = &quot;Hello World&quot;\n```</span>\n</code></pre><div class=\"preview\"><img src=\"/docs/assets/ff79dd534cb52ac3a90c032ff7df46c3.png\" alt=\"Preview\"></div></div>","types":["none","auto","str","bytes"],"strings":[],"default":"<code><span class=\"typ-key\">auto</span></code>","positional":false,"named":true,"required":false,"variadic":false,"settable":true},{"name":"tab-size","details":"<p>スペースで測ったタブ幅。\nタブは、次のタブ幅の整数倍位置までのスペースで置き換えられます。</p>","example":"<div class=\"previewed-code\"><pre><code><span class=\"typ-key\">#</span><span class=\"typ-key\">set</span> <span class=\"typ-func\">raw</span><span class=\"typ-punct\">(</span>tab-size<span class=\"typ-punct\">:</span> <span class=\"typ-num\">8</span><span class=\"typ-punct\">)</span>\n<span class=\"typ-raw\">```tsv\nYear\tMonth\tDay\n2000\t2\t3\n2001\t2\t1\n2002\t3\t10\n```</span>\n</code></pre><div class=\"preview\"><img src=\"/docs/assets/38037df252d0e30521ad3ae36d5093cb.png\" alt=\"Preview\"></div></div>","types":["int"],"strings":[],"default":"<code><span class=\"typ-num\">2</span></code>","positional":false,"named":true,"required":false,"variadic":false,"settable":true}],"returns":["content"],"scope":[{"path":["raw"],"name":"line","title":"Raw Text / Code Line","keywords":[],"oneliner":"ハイライトされた生テキストの行。","element":true,"contextual":false,"deprecation":null,"details":"<p>ハイライトされた生テキストの行。</p>\n<p>これは<a href=\"/docs/reference/text/raw/\" title=\"`raw`\"><code>raw</code></a>要素によって合成される補助要素です。</p>\n<p>行番号、ハイライトされていない生テキスト、ハイライトされたテキスト、rawブロックの最初の行や最後の行であるかどうかなどの、行のさまざまなプロパティにアクセスすることができます。</p>","example":null,"self":false,"params":[{"name":"number","details":"<p>1始まりのrawブロック内の行番号。</p>","example":null,"types":["int"],"strings":[],"default":null,"positional":true,"named":false,"required":true,"variadic":false,"settable":false},{"name":"count","details":"<p>rawブロック内にある総行数。</p>","example":null,"types":["int"],"strings":[],"default":null,"positional":true,"named":false,"required":true,"variadic":false,"settable":false},{"name":"text","details":"<p>生テキストの行。</p>","example":null,"types":["str"],"strings":[],"default":null,"positional":true,"named":false,"required":true,"variadic":false,"settable":false},{"name":"body","details":"<p>ハイライトされた生テキスト。</p>","example":null,"types":["content"],"strings":[],"default":null,"positional":true,"named":false,"required":true,"variadic":false,"settable":false}],"returns":["content"],"scope":[]}]}}}