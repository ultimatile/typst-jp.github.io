{"route":"/docs/reference/visualize/image/","title":"Image","description":"Documentation for the `image` function.","part":null,"outline":[{"id":"summary","name":"概要","children":[]},{"id":"例","name":"例","children":[]},{"id":"parameters","name":"引数","children":[{"id":"parameters-source","name":"source","children":[]},{"id":"parameters-format","name":"format","children":[]},{"id":"parameters-width","name":"width","children":[]},{"id":"parameters-height","name":"height","children":[]},{"id":"parameters-alt","name":"alt","children":[]},{"id":"parameters-fit","name":"fit","children":[]},{"id":"parameters-scaling","name":"scaling","children":[]},{"id":"parameters-icc","name":"icc","children":[]}]},{"id":"definitions","name":"定義","children":[{"id":"definitions-decode","name":"Decode Image","children":[{"id":"definitions-decode-data","name":"data","children":[]},{"id":"definitions-decode-format","name":"format","children":[]},{"id":"definitions-decode-width","name":"width","children":[]},{"id":"definitions-decode-height","name":"height","children":[]},{"id":"definitions-decode-alt","name":"alt","children":[]},{"id":"definitions-decode-fit","name":"fit","children":[]},{"id":"definitions-decode-scaling","name":"scaling","children":[]}]}]}],"body":{"kind":"func","content":{"path":[],"name":"image","title":"Image","keywords":[],"oneliner":"ラスターまたはベクター画像。","element":true,"contextual":false,"deprecation":null,"details":"<p>ラスターまたはベクター画像。</p>\n<p>画像を<a href=\"/docs/reference/model/figure/\" title=\"`figure`\"><code>figure</code></a>で囲むことで、番号とキャプションを与えることができます。</p>\n<p>ほとんどの要素と同様に、画像はデフォルトでは <em>ブロックレベル</em> であるため、隣接する段落に統合されることはありません。\n画像を強制的にインラインにするには、<a href=\"/docs/reference/layout/box/\" title=\"`box`\"><code>box</code></a>の中に入れてください。</p>\n<h2 id=\"例\">例</h2>\n<div class=\"previewed-code\"><pre><code><span class=\"typ-func\">#</span><span class=\"typ-func\">figure</span><span class=\"typ-punct\">(</span>\n  <span class=\"typ-func\">image</span><span class=\"typ-punct\">(</span><span class=\"typ-str\">&quot;molecular.jpg&quot;</span><span class=\"typ-punct\">,</span> width<span class=\"typ-punct\">:</span> <span class=\"typ-num\">80%</span><span class=\"typ-punct\">)</span><span class=\"typ-punct\">,</span>\n  caption<span class=\"typ-punct\">:</span> <span class=\"typ-punct\">[</span>\n    A step in the molecular testing\n    pipeline of our lab.\n  <span class=\"typ-punct\">]</span><span class=\"typ-punct\">,</span>\n<span class=\"typ-punct\">)</span>\n</code></pre><div class=\"preview\"><img src=\"/docs/assets/ce75a73e1e074f91aba6411c6e77cec4.png\" alt=\"Preview\"></div></div>","example":null,"self":false,"params":[{"name":"source","details":"<p>画像ファイルへの<a href=\"/docs/reference/syntax/#paths\">path</a>、\nまたはサポートされている<a href=\"/docs/reference/visualize/image/#parameters-format\">format</a>の画像データの生バイト。</p>\n<p>バイト列を使う場合は、生のピクセルデータを左から右へ、上から下へと並べた\n行優先（row-major）形式で指定します。</p>","example":"<div class=\"previewed-code\"><pre><code><span class=\"typ-key\">#</span><span class=\"typ-key\">let</span> original <span class=\"typ-op\">=</span> <span class=\"typ-func\">read</span><span class=\"typ-punct\">(</span><span class=\"typ-str\">&quot;diagram.svg&quot;</span><span class=\"typ-punct\">)</span>\n<span class=\"typ-key\">#</span><span class=\"typ-key\">let</span> changed <span class=\"typ-op\">=</span> original<span class=\"typ-punct\">.</span><span class=\"typ-func\">replace</span><span class=\"typ-punct\">(</span>\n  <span class=\"typ-str\">&quot;#2B80FF&quot;</span><span class=\"typ-punct\">,</span> <span class=\"typ-comment\">// blue</span>\n  green<span class=\"typ-punct\">.</span><span class=\"typ-func\">to-hex</span><span class=\"typ-punct\">(</span><span class=\"typ-punct\">)</span><span class=\"typ-punct\">,</span>\n<span class=\"typ-punct\">)</span>\n\n<span class=\"typ-func\">#</span><span class=\"typ-func\">image</span><span class=\"typ-punct\">(</span><span class=\"typ-func\">bytes</span><span class=\"typ-punct\">(</span>original<span class=\"typ-punct\">)</span><span class=\"typ-punct\">)</span>\n<span class=\"typ-func\">#</span><span class=\"typ-func\">image</span><span class=\"typ-punct\">(</span><span class=\"typ-func\">bytes</span><span class=\"typ-punct\">(</span>changed<span class=\"typ-punct\">)</span><span class=\"typ-punct\">)</span>\n</code></pre><div class=\"preview\"><img src=\"/docs/assets/8c4900221f249ebaf7a8713761a0df51.png\" alt=\"Preview\"></div></div>","types":["str","bytes"],"strings":[],"default":null,"positional":true,"named":false,"required":true,"variadic":false,"settable":false},{"name":"format","details":"<p>画像のフォーマット。</p>\n<p>デフォルトでは、フォーマットは自動的に検出されます。\nそのため、通常は生のバイト列を<a href=\"/docs/reference/visualize/image/#parameters-source\"><code>source</code></a>として提供する場合にのみこの指定が必要です\n（それでもTypstは自動でフォーマットを判別しようとしますが、\n必ずしも成功するとは限りません）。</p>\n<p>生のピクセルデータと同様にサポートされている拡張子は<code><span class=\"typ-str\">&quot;png&quot;</span></code>、<code><span class=\"typ-str\">&quot;jpg&quot;</span></code>、<code><span class=\"typ-str\">&quot;gif&quot;</span></code>、<code><span class=\"typ-str\">&quot;svg&quot;</span></code>です。\n<a href=\"https://github.com/typst/typst/issues/145\">PDFの画像はまだサポートされていません。</a></p>\n<p>生のピクセルデータを<code>source</code>として提供する場合、\n<code>format</code>には次のキーを持つ辞書を指定する必要があります。</p>\n<ul>\n<li><code>encoding</code> (<a href=\"/docs/reference/foundations/str/\" title=\"str\">str</a>): ピクセルデータのエンコーディング。以下のいずれかを指定します。\n<ul>\n<li><code><span class=\"typ-str\">&quot;rgb8&quot;</span></code> （3つの8ビットチャンネル: 赤（red）、緑（green）、青（blue））</li>\n<li><code><span class=\"typ-str\">&quot;rgba8&quot;</span></code> （4つの8ビットチャンネル: 赤（red）、緑（green）、青（blue）、透明度（alpha））</li>\n<li><code><span class=\"typ-str\">&quot;luma8&quot;</span></code> （1つの8ビットチャンネル）</li>\n<li><code><span class=\"typ-str\">&quot;lumaa8&quot;</span></code> （2つの8ビットチャンネル: 輝度（luma）と透明度（alpha））</li>\n</ul>\n</li>\n<li><code>width</code> (<a href=\"/docs/reference/foundations/int/\" title=\"int\">int</a>): 画像の幅のピクセル数。</li>\n<li><code>height</code> (<a href=\"/docs/reference/foundations/int/\" title=\"int\">int</a>): 画像の高さのピクセル数。</li>\n</ul>\n<p>幅のピクセル数、高さのピクセル数、指定したエンコーディングにおけるチャンネル数をかけ合わせたものが\n<code>source</code>のデータと一致しなければなりません。</p>","example":"<div class=\"previewed-code\"><pre><code><span class=\"typ-func\">#</span><span class=\"typ-func\">image</span><span class=\"typ-punct\">(</span>\n  <span class=\"typ-func\">read</span><span class=\"typ-punct\">(</span>\n    <span class=\"typ-str\">&quot;tetrahedron.svg&quot;</span><span class=\"typ-punct\">,</span>\n    encoding<span class=\"typ-punct\">:</span> <span class=\"typ-key\">none</span><span class=\"typ-punct\">,</span>\n  <span class=\"typ-punct\">)</span><span class=\"typ-punct\">,</span>\n  format<span class=\"typ-punct\">:</span> <span class=\"typ-str\">&quot;svg&quot;</span><span class=\"typ-punct\">,</span>\n  width<span class=\"typ-punct\">:</span> <span class=\"typ-num\">2cm</span><span class=\"typ-punct\">,</span>\n<span class=\"typ-punct\">)</span>\n\n<span class=\"typ-func\">#</span><span class=\"typ-func\">image</span><span class=\"typ-punct\">(</span>\n  <span class=\"typ-func\">bytes</span><span class=\"typ-punct\">(</span><span class=\"typ-func\">range</span><span class=\"typ-punct\">(</span><span class=\"typ-num\">16</span><span class=\"typ-punct\">)</span><span class=\"typ-punct\">.</span><span class=\"typ-func\">map</span><span class=\"typ-punct\">(</span>x <span class=\"typ-op\">=&gt;</span> x <span class=\"typ-op\">*</span> <span class=\"typ-num\">16</span><span class=\"typ-punct\">)</span><span class=\"typ-punct\">)</span><span class=\"typ-punct\">,</span>\n  format<span class=\"typ-punct\">:</span> <span class=\"typ-punct\">(</span>\n    encoding<span class=\"typ-punct\">:</span> <span class=\"typ-str\">&quot;luma8&quot;</span><span class=\"typ-punct\">,</span>\n    width<span class=\"typ-punct\">:</span> <span class=\"typ-num\">4</span><span class=\"typ-punct\">,</span>\n    height<span class=\"typ-punct\">:</span> <span class=\"typ-num\">4</span><span class=\"typ-punct\">,</span>\n  <span class=\"typ-punct\">)</span><span class=\"typ-punct\">,</span>\n  width<span class=\"typ-punct\">:</span> <span class=\"typ-num\">2cm</span><span class=\"typ-punct\">,</span>\n<span class=\"typ-punct\">)</span>\n</code></pre><div class=\"preview\"><img src=\"/docs/assets/10ff96fc3a10fde3da637ec12b56637a.png\" alt=\"Preview\"></div></div>","types":["auto","str","dictionary"],"strings":[{"string":"png","details":"<p>イラストや透明グラフィック用のラスターフォーマット。</p>"},{"string":"jpg","details":"<p>写真に適した非可逆ラスターフォーマット。</p>"},{"string":"gif","details":"<p>短いアニメーションクリップによく使われるラスターフォーマット。\nTypstはGIFを読み込めるが、静止画となってしまう。</p>"},{"string":"svg","details":"<p>Webサイトに用いられるベクターフォーマット。</p>"}],"default":"<code><span class=\"typ-key\">auto</span></code>","positional":false,"named":true,"required":false,"variadic":false,"settable":true},{"name":"width","details":"<p>画像の幅。</p>","example":null,"types":["auto","relative"],"strings":[],"default":"<code><span class=\"typ-key\">auto</span></code>","positional":false,"named":true,"required":false,"variadic":false,"settable":true},{"name":"height","details":"<p>画像の高さ。</p>","example":null,"types":["auto","relative","fraction"],"strings":[],"default":"<code><span class=\"typ-key\">auto</span></code>","positional":false,"named":true,"required":false,"variadic":false,"settable":true},{"name":"alt","details":"<p>画像の説明文。</p>","example":null,"types":["none","str"],"strings":[],"default":"<code><span class=\"typ-key\">none</span></code>","positional":false,"named":true,"required":false,"variadic":false,"settable":true},{"name":"fit","details":"<p>与えられた領域に対して、画像をどのように調整するか。\n領域は <code>width</code> や <code>height</code> フィールドで定義します。\n領域の縦横比が画像の縦横比と同じであれば、<code>fit</code> で見た目が変わらないことに注意してください。</p>","example":"<div class=\"previewed-code\"><pre><code><span class=\"typ-key\">#</span><span class=\"typ-key\">set</span> <span class=\"typ-func\">page</span><span class=\"typ-punct\">(</span>width<span class=\"typ-punct\">:</span> <span class=\"typ-num\">300pt</span><span class=\"typ-punct\">,</span> height<span class=\"typ-punct\">:</span> <span class=\"typ-num\">50pt</span><span class=\"typ-punct\">,</span> margin<span class=\"typ-punct\">:</span> <span class=\"typ-num\">10pt</span><span class=\"typ-punct\">)</span>\n<span class=\"typ-func\">#</span><span class=\"typ-func\">image</span><span class=\"typ-punct\">(</span><span class=\"typ-str\">&quot;tiger.jpg&quot;</span><span class=\"typ-punct\">,</span> width<span class=\"typ-punct\">:</span> <span class=\"typ-num\">100%</span><span class=\"typ-punct\">,</span> fit<span class=\"typ-punct\">:</span> <span class=\"typ-str\">&quot;cover&quot;</span><span class=\"typ-punct\">)</span>\n<span class=\"typ-func\">#</span><span class=\"typ-func\">image</span><span class=\"typ-punct\">(</span><span class=\"typ-str\">&quot;tiger.jpg&quot;</span><span class=\"typ-punct\">,</span> width<span class=\"typ-punct\">:</span> <span class=\"typ-num\">100%</span><span class=\"typ-punct\">,</span> fit<span class=\"typ-punct\">:</span> <span class=\"typ-str\">&quot;contain&quot;</span><span class=\"typ-punct\">)</span>\n<span class=\"typ-func\">#</span><span class=\"typ-func\">image</span><span class=\"typ-punct\">(</span><span class=\"typ-str\">&quot;tiger.jpg&quot;</span><span class=\"typ-punct\">,</span> width<span class=\"typ-punct\">:</span> <span class=\"typ-num\">100%</span><span class=\"typ-punct\">,</span> fit<span class=\"typ-punct\">:</span> <span class=\"typ-str\">&quot;stretch&quot;</span><span class=\"typ-punct\">)</span>\n</code></pre><div class=\"preview\"><img src=\"/docs/assets/a194706a6a99674a7fb55f288a8631c6.png\" alt=\"Preview\"></div></div>","types":["str"],"strings":[{"string":"cover","details":"<p>領域を完全にカバーします。\n水平または垂直方向にのみ画像をトリミングすることで、アスペクト比を保持します。\nこれがデフォルトです。</p>"},{"string":"contain","details":"<p>画像は領域内に完全に収まるようにします。\nアスペクト比を維持して、画像を切り取らず、1つの寸法は指定より狭くします。</p>"},{"string":"stretch","details":"<p>たとえ画像が歪むことになっても、その領域を正確に埋めるように引き伸ばします。\nアスペクト比は保たれず、画像は切り取られません。</p>"}],"default":"<code><span class=\"typ-str\">&quot;cover&quot;</span></code>","positional":false,"named":true,"required":false,"variadic":false,"settable":true},{"name":"scaling","details":"<p>ビューアーに対して、画像をどのように拡大縮小すべきかを示すヒント。</p>\n<p><code><span class=\"typ-key\">auto</span></code>に設定した場合、デフォルトの動作はビューアーに委ねられます。\nPNGエクスポートの場合、TypstはほとんどのPDFビューアーやSVGビューアーと同様に、\nスムーズな拡大縮小をデフォルトとして設定します。</p>\n<p><em>注意:</em> PDFビューアーによっては正確な見た目が異なる場合があります。</p>","example":null,"types":["auto","str"],"strings":[{"string":"smooth","details":"<p>バイリニア補間などの平滑化アルゴリズムを用いて拡大縮小します。</p>"},{"string":"pixelated","details":"<p>最近傍補間などのアルゴリズムで拡大縮小し、\nピクセルで構成された画像の見た目を保ちます。</p>"}],"default":"<code><span class=\"typ-key\">auto</span></code>","positional":false,"named":true,"required":false,"variadic":false,"settable":true},{"name":"icc","details":"<p>画像用のICCプロファイル。</p>\n<p>ICCプロファイルは、画像の色をどのように解釈するかを定義するものです。\n<code><span class=\"typ-key\">auto</span></code>に設定した場合、Typstは画像からICCプロファイルを抽出しようとします。</p>","example":null,"types":["auto","str","bytes"],"strings":[],"default":"<code><span class=\"typ-key\">auto</span></code>","positional":false,"named":true,"required":false,"variadic":false,"settable":true}],"returns":["content"],"scope":[{"path":["image"],"name":"decode","title":"Decode Image","keywords":[],"oneliner":"バイト列または文字列からラスター画像またはベクター画像をデコードする。","element":false,"contextual":false,"deprecation":"`image.decode`は非推奨です。代わりにバイト列を直接`image`に渡してください。","details":"<p>バイト列または文字列からラスター画像またはベクター画像をデコードする。</p>","example":null,"self":false,"params":[{"name":"data","details":"<p>画像としてデコードするデータ。SVGの場合は文字列です。</p>","example":null,"types":["str","bytes"],"strings":[],"default":null,"positional":true,"named":false,"required":true,"variadic":false,"settable":false},{"name":"format","details":"<p>画像のフォーマット。デフォルトでは自動的に検出されます。</p>","example":null,"types":["auto","str","dictionary"],"strings":[{"string":"png","details":"<p>イラストや透明グラフィック用のラスターフォーマット。</p>"},{"string":"jpg","details":"<p>写真に適した非可逆ラスターフォーマット。</p>"},{"string":"gif","details":"<p>短いアニメーションクリップによく使われるラスターフォーマット。\nTypstはGIFを読み込めるが、静止画となってしまう。</p>"},{"string":"svg","details":"<p>Webサイトに用いられるベクターフォーマット。</p>"}],"default":null,"positional":false,"named":true,"required":false,"variadic":false,"settable":false},{"name":"width","details":"<p>画像の幅。</p>","example":null,"types":["auto","relative"],"strings":[],"default":null,"positional":false,"named":true,"required":false,"variadic":false,"settable":false},{"name":"height","details":"<p>画像の高さ。</p>","example":null,"types":["auto","relative","fraction"],"strings":[],"default":null,"positional":false,"named":true,"required":false,"variadic":false,"settable":false},{"name":"alt","details":"<p>画像の説明文。</p>","example":null,"types":["none","str"],"strings":[],"default":null,"positional":false,"named":true,"required":false,"variadic":false,"settable":false},{"name":"fit","details":"<p>与えられた領域に対して、画像をどのように調整するか。</p>","example":null,"types":["str"],"strings":[{"string":"cover","details":"<p>領域を完全にカバーします。\n水平または垂直方向にのみ画像をトリミングすることで、アスペクト比を保持します。\nこれがデフォルトです。</p>"},{"string":"contain","details":"<p>画像は領域内に完全に収まるようにします。\nアスペクト比を維持して、画像を切り取らず、1つの寸法は指定より狭くします。</p>"},{"string":"stretch","details":"<p>たとえ画像が歪むことになっても、その領域を正確に埋めるように引き伸ばします。\nアスペクト比は保たれず、画像は切り取られません。</p>"}],"default":null,"positional":false,"named":true,"required":false,"variadic":false,"settable":false},{"name":"scaling","details":"<p>ビューアーがどのように拡大縮小すべきかを示すヒント。</p>","example":null,"types":["auto","str"],"strings":[{"string":"smooth","details":"<p>バイリニア補間などの平滑化アルゴリズムを用いて拡大縮小します。</p>"},{"string":"pixelated","details":"<p>最近傍補間などのアルゴリズムで拡大縮小し、\nピクセルで構成された画像の見た目を保ちます。</p>"}],"default":null,"positional":false,"named":true,"required":false,"variadic":false,"settable":false}],"returns":["content"],"scope":[]}]}}}