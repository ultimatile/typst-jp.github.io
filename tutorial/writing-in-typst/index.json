{"route":"/docs/tutorial/writing-in-typst/","title":"Typstで執筆するには","description":"Typstチュートリアル","part":null,"outline":[{"id":"figure","name":"図表を追加する","children":[]},{"id":"bibliography","name":"参考文献の追加","children":[]},{"id":"maths","name":"数式","children":[]},{"id":"review","name":"まとめ","children":[]}],"body":{"kind":"html","content":"<h1>Typstで執筆するには</h1>\n<p>さあ始めましょう！あなたが大学で専門的なレポートを書くことになったとしましょう。そこには文章、数式、見出し、図が含まれています。\n書き始めるには、まずTypst appで新しいプロジェクトを作成します。エディターに移動すると、2つのパネルが表示されます。\n1つは文書を作成するソースパネル、もう1つはレンダリングされた文書が表示されるプレビューパネルです。</p>\n<p><img src=\"/docs/assets/1-writing-app.png\" alt=\"Typst app screenshot\" /></p>\n<p>レポートの良い切り口はすでに考えてあるので、まずは導入を書いてみましょう。\nエディターパネルにいくつかのテキストを入力してください。テキストがすぐにプレビューページに表示されるのがわかるでしょう。</p>\n<div class=\"previewed-code\"><pre><code>In this report, we will explore the\nvarious factors that influence fluid\ndynamics in glaciers and how they\ncontribute to the formation and\nbehaviour of these natural structures.\n</code></pre><div class=\"preview\"><img src=\"/docs/assets/78f97553ed9aef0f2a9266f708b97fa0.png\" alt=\"Preview\"></div></div>\n<p><em>このチュートリアル全体を通して、このようなコード例を紹介します。アプリと同様に、最初のパネルにはマークアップが含まれ、2番目のパネルにはプレビューが表示されます。何が起こっているかわかりやすいように例にあわせてページを縮小しています。</em></p>\n<p>次のステップは、見出しを追加して、いくつかのテキストを強調することです。\nTypstでは、頻繁に使う書式をシンプルなマークアップで表現するようになっています。見出しを追加するには <code>=</code> の文字を入力します。テキストを斜体で強調するには、テキストを <code><span class=\"typ-emph\">_アンダースコア_</span></code> で囲みます。</p>\n<div class=\"previewed-code\"><pre><code><span class=\"typ-heading\">= Introduction</span>\nIn this report, we will explore the\nvarious factors that influence <span class=\"typ-emph\">_fluid\ndynamics_</span> in glaciers and how they\ncontribute to the formation and\nbehaviour of these natural structures.\n</code></pre><div class=\"preview\"><img src=\"/docs/assets/a7be6ffb3ed0a950a1a6507637c1d97f.png\" alt=\"Preview\"></div></div>\n<p>簡単でしたね！新しい段落を追加するには、2行のテキストの間に空行を追加するだけです。\nその段落に小見出しが必要な場合は、<code>=</code> の代わりに <code>==</code> を入力して作成します。\n<code>=</code> の数が見出しのネストレベルを決定します。</p>\n<p>次に、氷河の動態に影響を与える要因をいくつか列挙してみましょう。\nそのために、ここでは番号付きリストを使いましょう。リストの各項目について、行の先頭に <code>+</code> 文字を入力します。\nすると、Typstが自動的に項目を番号付けしてくれるのです。</p>\n<div class=\"previewed-code\"><pre><code><span class=\"typ-marker\">+</span> The climate\n<span class=\"typ-marker\">+</span> The topography\n<span class=\"typ-marker\">+</span> The geology\n</code></pre><div class=\"preview\"><img src=\"/docs/assets/53720741b852350f277645c8bff80fae.png\" alt=\"Preview\"></div></div>\n<p>箇条書きリストを追加したい場合は、<code>+</code> 文字の代わりに <code>-</code> 文字を使用します。\nまた、リストをネストすることもできます。\n例えば、上記のリストの最初の項目にサブリストを追加するには、それをインデントします。</p>\n<div class=\"previewed-code\"><pre><code><span class=\"typ-marker\">+</span> The climate\n  <span class=\"typ-marker\">-</span> Temperature\n  <span class=\"typ-marker\">-</span> Precipitation\n<span class=\"typ-marker\">+</span> The topography\n<span class=\"typ-marker\">+</span> The geology\n</code></pre><div class=\"preview\"><img src=\"/docs/assets/c664be04f88cfe00c791693dfee844fe.png\" alt=\"Preview\"></div></div>\n<h2 id=\"figure\">図表を追加する</h2>\n<p>あなたは「レポートに図表を入れるともっとよくなる」と考えているとします。やりましょう。\nTypstでは、PNG、JPEG、GIF、SVGの形式の画像をサポートしています。\nプロジェクトに画像ファイルを追加するには、まず左サイドバーのボックスアイコンをクリックして <em>ファイルパネル</em> を開きます。\nここにはプロジェクト内の全てのファイルのリストが表示されます。\n現在、ここにあるのはあなたが書いているメインのTypstファイルだけです。\n別のファイルをアップロードするには、右上隅の矢印のボタンをクリックします。\nこれによりアップロードダイアログが開き、コンピュータからアップロードするファイルを選択できます。\nレポートに用いる画像ファイルを選んでください。</p>\n<p><img src=\"/docs/assets/1-writing-upload.png\" alt=\"Upload dialog\" /></p>\n<p>以前にも見てきたように、Typstでは特定の記号（<em>マークアップ</em> と呼ばれる）が特有の意味を持ちます。\n<code>=</code>、<code>-</code>、<code>+</code>、<code>_</code> をそれぞれ見出し、リスト、強調テキストを作成するために使用することができます。\nしかし、文書に挿入したいもの全てに特別な記号を割り当てると、すぐに分かりづらく、そして扱いづらくなってしまいます。\nそのため、Typstでは一般的な書式にのみマークアップ記号を用意し、それ以外は全て <em>関数</em> を使って挿入します。</p>\n<p>ページに画像を表示させるためには、Typstの<a href=\"/docs/reference/visualize/image/\"><code>image</code></a>関数を使用します。</p>\n<div class=\"previewed-code\"><pre><code><span class=\"typ-func\">#</span><span class=\"typ-func\">image</span><span class=\"typ-punct\">(</span><span class=\"typ-str\">&quot;glacier.jpg&quot;</span><span class=\"typ-punct\">)</span>\n</code></pre><div class=\"preview\"><img src=\"/docs/assets/2b02a560255bdae159a99f1a6eddfe82.png\" alt=\"Preview\"></div></div>\n<p>一般的に、関数は一連の <em>引数</em> に対して何らかの出力を生成します。\nマークアップ内で関数を <em>呼び出す</em> 時は、あなたが関数の引数を指定すると、Typstがその結果（関数の <em>戻り値</em>）を文書に挿入してくれます。\n今回の場合、<code>image</code> 関数は1つの引数として画像ファイルへのパスを受け取ります。\nマークアップで関数を呼び出すには、まず <code>#</code> 文字を入力し、直後に関数の名前を記述します。\nその後、引数を丸括弧で囲みます。\nTypstは引数リスト内でさまざまなデータ型を認識します。\n私たちの画像のファイルパスは短い <a href=\"/docs/reference/foundations/str/\">文字列</a> ですので、二重引用符で囲む必要があります。</p>\n<p>挿入された画像はページ全体の幅を使います。これを変更するには、<code>image</code> 関数に <code>width </code>引数を渡します。\nこれは <em>名前付き</em> 引数であり、<code>引数の名前: 引数の値</code> という形式で指定されます。\n複数の引数がある場合はカンマで区切ります。そのため、ここでは先ほど指定したファイルパスの後ろにカンマを付ける必要があります。</p>\n<div class=\"previewed-code\"><pre><code><span class=\"typ-func\">#</span><span class=\"typ-func\">image</span><span class=\"typ-punct\">(</span><span class=\"typ-str\">&quot;glacier.jpg&quot;</span><span class=\"typ-punct\">,</span> width<span class=\"typ-punct\">:</span> <span class=\"typ-num\">70%</span><span class=\"typ-punct\">)</span>\n</code></pre><div class=\"preview\"><img src=\"/docs/assets/96969d2883b3704b1ffcc1a849e66084.png\" alt=\"Preview\"></div></div>\n<p><code>width</code> 引数は <a href=\"/docs/reference/layout/relative/\">相対的な長さ</a> です。\n上の例では、画像がページの幅の <code><span class=\"typ-num\">70%</span></code> を占めるようにパーセンテージを指定しています。\nまた、<code><span class=\"typ-num\">1cm</span></code> や <code><span class=\"typ-num\">0.7in</span></code> のような絶対値を指定することもできます。</p>\n<p>テキストと同様に、画像もデフォルトではページの左側に配置されます。さらに、図表の説明（キャプション）も欠けています。\nこれらを修正するために、<a href=\"/docs/reference/model/figure/\">figure</a> 関数を使用しましょう。\nこの関数には、名前付きでない通常の引数（位置引数）として、図表を指定する必要があります。さらにオプションとして、図表に付ける説明文（<code>caption</code>）を名前付き引数で指定できます。</p>\n<p><code>figure</code> 関数の引数リスト内では、Typstは既にコードモードになっています。\nこれは、 <code>image</code> 関数の呼び出し前にある <code>#</code> 記号を削除する必要があることを意味します。\n<code>#</code> 記号は、マークアップ内でテキストと関数呼び出しを区別するために書くものなのです。</p>\n<p>キャプションの中には、任意のマークアップを含めることが出来ます。\nある関数の引数としてマークアップを指定するためには、それを角括弧 <code> </code> で囲みます。この「マークアップが角括弧で囲まれている構造」のことを、<em>コンテンツブロック</em> と呼ばれます</p>\n<div class=\"previewed-code\"><pre><code><span class=\"typ-func\">#</span><span class=\"typ-func\">figure</span><span class=\"typ-punct\">(</span>\n  <span class=\"typ-func\">image</span><span class=\"typ-punct\">(</span><span class=\"typ-str\">&quot;glacier.jpg&quot;</span><span class=\"typ-punct\">,</span> width<span class=\"typ-punct\">:</span> <span class=\"typ-num\">70%</span><span class=\"typ-punct\">)</span><span class=\"typ-punct\">,</span>\n  caption<span class=\"typ-punct\">:</span> <span class=\"typ-punct\">[</span>\n    <span class=\"typ-emph\">_Glaciers_</span> form an important part\n    of the earth&#39;s climate system.\n  <span class=\"typ-punct\">]</span><span class=\"typ-punct\">,</span>\n<span class=\"typ-punct\">)</span>\n</code></pre><div class=\"preview\"><img src=\"/docs/assets/bf93a745e50ef1f0f945f8f6689655c9.png\" alt=\"Preview\"></div></div>\n<p>あなたはレポートの執筆を続けるうちに、今度は先ほど挿入した図を文中から参照したくなったとします。\nその場合、まず図にラベルを付けます。\nラベルとは、文書内の要素を一意に識別するための名前のことです。先ほど挿入した図の後ろに、その図のラベルを山括弧 <code>&lt; &gt;</code> で囲んで書き加えます。\nこれで、テキスト内で <code><span class=\"typ-ref\">@</span></code> 記号を書いた後ろにラベル名を指定すると、その図を参照できるようになりました。\n見出しや方程式もラベルを付けて参照可能にすることができます。</p>\n<div class=\"previewed-code\"><pre><code>Glaciers as the one shown in\n<span class=\"typ-ref\">@glaciers</span> will cease to exist if\nwe don&#39;t take action soon!\n\n<span class=\"typ-func\">#</span><span class=\"typ-func\">figure</span><span class=\"typ-punct\">(</span>\n  <span class=\"typ-func\">image</span><span class=\"typ-punct\">(</span><span class=\"typ-str\">&quot;glacier.jpg&quot;</span><span class=\"typ-punct\">,</span> width<span class=\"typ-punct\">:</span> <span class=\"typ-num\">70%</span><span class=\"typ-punct\">)</span><span class=\"typ-punct\">,</span>\n  caption<span class=\"typ-punct\">:</span> <span class=\"typ-punct\">[</span>\n    <span class=\"typ-emph\">_Glaciers_</span> form an important part\n    of the earth&#39;s climate system.\n  <span class=\"typ-punct\">]</span><span class=\"typ-punct\">,</span>\n<span class=\"typ-punct\">)</span> <span class=\"typ-label\">&lt;glaciers&gt;</span>\n</code></pre><div class=\"preview\"><img src=\"/docs/assets/730675da2437f41e0bfbfc10c213b64c.png\" alt=\"Preview\"></div></div><div class=\"info-box\">\n<p>これまでに、コンテンツブロック（角括弧 <code> </code> 内のマークアップ）と文字列（二重引用符 <code>&quot; &quot;</code> 内のテキスト）を関数に渡してきました。\nどちらもテキストを含んでいるように見えますが、違いは何でしょうか？</p>\n<p>コンテンツブロックはテキストを含むことができますが、それ以外にもさまざまなマークアップ、関数呼び出しなどを含むことができます。\n一方、文字列は本当に <em>文字の並び</em> に過ぎません。</p>\n<p>例えば、image関数は、引数として画像ファイルへのパスが渡されることを想定しています。ここに文章の段落や他の画像を渡しても意味がありません。\nimage関数の引数としてマークアップがダメで文字列が許可されるのは、そういうわけなのです。\nそれとは反対に、文字列はコンテンツブロックが期待される場所であればどこにでも書くことが出来ます。なぜなら、文字列は単なる文字の並びであり、文字の並びは有効なコンテンツの一種だからです。</p>\n</div>\n<h2 id=\"bibliography\">参考文献の追加</h2>\n<p>レポートを作成する際には、その主張を裏付ける必要がありますよね。\n参考文献を文書に追加するには、<a href=\"/docs/reference/model/bibliography/\"><code>bibliography</code></a> 関数を使用できます。\nこの関数は、引数として参考文献ファイルへのパスが渡されることを想定しています。</p>\n<p>Typstでは、ネイティブな参考文献の形式として<a href=\"https://github.com/typst/hayagriva/blob/main/docs/file-format.md\">Hayagriva</a>を使用していますが、\n互換性のためにBibLaTeXファイルも使用できます。\nクラスメートが既に文献調査を行い、<code>.bib</code> ファイルを送ってくれたので、それを使用しましょう。\nファイルパネルを通じてファイルをアップロードし、Typst appでアクセスできるようにします。</p>\n<p>文書に参考文献が追加されている場合、参考文献欄にある文献を文中で引用することができます。\n引用はラベルへの参照と同じ構文を使用します。デフォルトでは、文中に文献の引用を記述した時点で初めて、その文献がTypstの参考文献セクションに表示されるようになっています。\nTypstはさまざまな引用および参考文献のスタイルをサポートしています。詳細については <a href=\"/docs/reference/model/bibliography/#parameters-style\">リファレンス</a>を参照してください。</p>\n<div class=\"previewed-code\"><pre><code><span class=\"typ-heading\">= Methods</span>\nWe follow the glacier melting models\nestablished in <span class=\"typ-ref\">@glacier-melt</span>.\n\n<span class=\"typ-func\">#</span><span class=\"typ-func\">bibliography</span><span class=\"typ-punct\">(</span><span class=\"typ-str\">&quot;works.bib&quot;</span><span class=\"typ-punct\">)</span>\n</code></pre><div class=\"preview\"><img src=\"/docs/assets/4063c74f5e24b1d79ad2bffcbf2d3558.png\" alt=\"Preview\"></div></div>\n<h2 id=\"maths\">数式</h2>\n<p>方法に関する節を肉付けした後、文書の主要な部分である方程式に進みます。\nTypstには組み込みの数学記法があり、独自の数学表記を使用します。\n簡単な方程式から始めましょう。Typstに数学的な表現を期待することを知らせるために、<code>$</code> 記号で囲みます。</p>\n<div class=\"previewed-code\"><pre><code>The equation <span class=\"typ-math-delim\">$</span>Q = <span class=\"typ-pol\">rho</span> A v + C<span class=\"typ-math-delim\">$</span>\ndefines the glacial flow rate.\n</code></pre><div class=\"preview\"><img src=\"/docs/assets/feee418cba0c141654db383539650b76.png\" alt=\"Preview\"></div></div>\n<p>方程式はインラインで表示され、周囲のテキストと同じ行に配置されます。\nそれを独立した行にしたい場合は、方程式の最初と最後にそれぞれ1つずつスペースを挿入する必要があります。</p>\n<div class=\"previewed-code\"><pre><code>The flow rate of a glacier is\ndefined by the following equation:\n\n<span class=\"typ-math-delim\">$</span> Q = <span class=\"typ-pol\">rho</span> A v + C <span class=\"typ-math-delim\">$</span>\n</code></pre><div class=\"preview\"><img src=\"/docs/assets/1972349af18eaaa482d7ae624532be43.png\" alt=\"Preview\"></div></div>\n<p>Typstでは、単一の文字 <code>Q</code>, <code>A</code>, <code>v</code>, <code>C</code> はそのまま表示され、一方で <code>rho</code> はギリシャ文字に変換されているのがわかります。\n数式モードでは、単一の文字は常にそのまま表示されます。しかし、複数個が連なっている文字は記号、変数、または関数名として扱われます。\n異なる種類の文字どうしの乗算を（乗算記号を省略して）示すためには、文字と文字の間にスペースを挿入してください。</p>\n<p>複数の文字からなる変数を表したい場合は、変数の名前を引用符で囲みます。</p>\n<div class=\"previewed-code\"><pre><code>The flow rate of a glacier is given\nby the following equation:\n\n<span class=\"typ-math-delim\">$</span> Q = <span class=\"typ-pol\">rho</span> A v + <span class=\"typ-str\">&quot;time offset&quot;</span> <span class=\"typ-math-delim\">$</span>\n</code></pre><div class=\"preview\"><img src=\"/docs/assets/2526a88c6062287f852db218a9e59280.png\" alt=\"Preview\"></div></div>\n<p>レポートには総和の式も必要です。\n<code>sum</code> 記号を使用して、総和の範囲を下付き文字と上付き文字で指定することができます。</p>\n<div class=\"previewed-code\"><pre><code>Total displaced soil by glacial flow:\n\n<span class=\"typ-math-delim\">$</span> 7.32 <span class=\"typ-pol\">beta</span> +\n  <span class=\"typ-pol\">sum</span><span class=\"typ-math-op\">_</span><span class=\"typ-punct\">(</span>i=0<span class=\"typ-punct\">)</span><span class=\"typ-math-op\">^</span><span class=\"typ-pol\">nabla</span> Q<span class=\"typ-math-op\">_</span>i <span class=\"typ-math-op\">/</span> 2 <span class=\"typ-math-delim\">$</span>\n</code></pre><div class=\"preview\"><img src=\"/docs/assets/ad30f24c6c4995728f44726e6f700b46.png\" alt=\"Preview\"></div></div>\n<p>シンボルや変数に下付き文字を追加するには、<code>_</code> の文字を入力してから下付き文字を入力します。\n同様に、上付き文字を追加するには <code>^</code> の文字を使用します。\nもし下付き文字や上付き文字が複数の要素からなる場合は、それらを丸括弧で囲む必要があります。</p>\n<p>上記の例から分数の挿入方法もわかると思います。\n分子と分母の間に <code>/</code> の文字を置くだけで、Typstは自動的にそれを分数に変換します。\nTypstでは、丸括弧のネストをスマートに解決するようになっています。プログラミング言語や関数電卓のように、丸括弧を入れ子にした式を入力すると、\nTypstは丸括弧で囲まれた部分式を適切に解釈して自動的に置き換えます。</p>\n<div class=\"previewed-code\"><pre><code>Total displaced soil by glacial flow:\n\n<span class=\"typ-math-delim\">$</span> 7.32 <span class=\"typ-pol\">beta</span> +\n  <span class=\"typ-pol\">sum</span><span class=\"typ-math-op\">_</span><span class=\"typ-punct\">(</span>i=0<span class=\"typ-punct\">)</span><span class=\"typ-math-op\">^</span><span class=\"typ-pol\">nabla</span>\n    <span class=\"typ-punct\">(</span>Q<span class=\"typ-math-op\">_</span>i (a<span class=\"typ-math-op\">_</span>i <span class=\"typ-escape\">-</span> <span class=\"typ-pol\">epsilon</span>)<span class=\"typ-punct\">)</span> <span class=\"typ-math-op\">/</span> 2 <span class=\"typ-math-delim\">$</span>\n</code></pre><div class=\"preview\"><img src=\"/docs/assets/1e0781d81c792e1ddae4d3df17a58477.png\" alt=\"Preview\"></div></div>\n<p>数学の全ての概念に特別な構文があるわけではありません。\n代わりに、先程の <code>image</code> 関数のように関数を使用します。\n例えば、列ベクトルを挿入するには、<code>vec</code> 関数を使用できます。\n数式モード内では、関数呼び出しは <code>#</code> で始める必要はありません。</p>\n<div class=\"previewed-code\"><pre><code><span class=\"typ-math-delim\">$</span> v <span class=\"typ-escape\">:=</span> <span class=\"typ-func\">vec</span><span class=\"typ-punct\">(</span>x<span class=\"typ-math-op\">_</span>1<span class=\"typ-punct\">,</span> x<span class=\"typ-math-op\">_</span>2<span class=\"typ-punct\">,</span> x<span class=\"typ-math-op\">_</span>3<span class=\"typ-punct\">)</span> <span class=\"typ-math-delim\">$</span>\n</code></pre><div class=\"preview\"><img src=\"/docs/assets/9e3d2932792ea17dade45677ff1e982b.png\" alt=\"Preview\"></div></div>\n<p>数式モード内でのみ使用可能な関数もあります。\n例えば、<a href=\"/docs/reference/math/variants/#functions-cal\"><code>cal</code></a> 関数は集合などに一般的に使用されるカリグラフィ文字を表示するために使われます。\n数式モードが提供する全ての関数の完全なリストについては、<a href=\"/docs/reference/math/\">リファレンスの数式セクション</a>を参照してください。</p>\n<p>もう1つ、矢印などの多くの記号には多くのバリエーションがあります。\nこうしたさまざまなバリエーションの中から特定の記号を選択するには、その記号のカテゴリ名の後に、ドットと具体的な記号の種類を示す修飾子を追加します。</p>\n<div class=\"previewed-code\"><pre><code><span class=\"typ-math-delim\">$</span> a <span class=\"typ-pol\">arrow</span><span class=\"typ-punct\">.</span><span class=\"typ-pol\">squiggly</span> b <span class=\"typ-math-delim\">$</span>\n</code></pre><div class=\"preview\"><img src=\"/docs/assets/d068108ad373e358feef9177152ea203.png\" alt=\"Preview\"></div></div>\n<p>この表記法はマークアップモードでも利用可能ですが、そこでは記号名の前に <code>#sym.</code> を付ける必要があります。\n利用可能な全ての記号については<a href=\"/docs/reference/symbols/sym/\">記号セクション</a>を参照してください。</p>\n<h2 id=\"review\">まとめ</h2>\n<p>あなたはTypstで基本的な文書を書く方法を学びました。テキストの強調やリストの書き方、画像の挿入、コンテンツの配置、Typstにおける数学的な式の組版などを学びました。また、Typstの関数についても学びました。\nTypstでは文書に挿入できるさまざまなコンテンツがあります。例えば、<a href=\"/docs/reference/model/table/\">表</a>や<a href=\"/docs/reference/visualize/\">図形</a>、<a href=\"/docs/reference/text/raw/\">コードブロック</a>などです。さらにこれらや他の機能について詳しく学ぶには<a href=\"/docs/reference/\">リファレンス</a>を参照してください。</p>\n<p>ここまでで、レポートの執筆は完了しました。\nあなたは右上のダウンロードボタンをクリックしてPDFを保存したはずです。\nしかし、あなたはレポートがあまりにも素朴に見えると感じるかもしれません。\n次のセクションでは、文書の外観をカスタマイズする方法を学びます。</p>"}}